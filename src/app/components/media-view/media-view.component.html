<div *ngIf="media$ | async as media; else NoData" class="media-wrapper">
  <div class="media-header">
    <span>{{media.title}}</span>
    <div class="back-button" (click)="goBack()">
      <i class="fas fa-arrow-left"></i>
      <p>Return to List</p>
    </div>
  </div>
  <div class="media-details">
    <div class="display-image" [ngStyle]="{'background-image':'url(' + media.main_picture.large + ')'}"></div>
    <div class="details-container">
      <div class="media-window">
        <p>Premiered: {{media.start_season.year}} {{media.start_season.season | titlecase}}</p>
        <p>Score: {{media.mean}} (Ranked: {{media.rank}})</p>
        <p>Format: {{media.media_type | uppercase}}</p>
        <p>Popularity: #{{media.popularity}} ({{media.num_list_users}} members)</p>
        <p>Status: {{media.status}}</p>
      </div>
      <div class="media-user-window">
        <p>Score: {{media.my_list_status.score || '--'}} <span *ngIf="media.my_list_status.score">(<span [ngClass]="scoreDifferential > 0 ? 'positive' : 'negative'">{{scoreDifferential > 0 ? '+' : ''}}{{scoreDifferential}}</span>)</span></p>
        <p>Status: {{media.my_list_status.status | titlecase}}</p>
        <p>Progress: {{media.my_list_status.num_episodes_watched}}/{{media.num_episodes}}</p>
      </div>
    </div>
  </div>
</div>

<ng-template #NoData>
  <div class="no-data">
    <p>Media Could Not Be Found</p>
  </div>
  <div class="back-button" (click)="goBack()">
    <i class="fas fa-arrow-left"></i>
    <p>Return to List</p>
  </div>
</ng-template>